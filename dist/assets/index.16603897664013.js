import{d as I,j as E,a as i,o as N,k as C,b as e,w as o,f as d,h as j,t as M,l as g,m as V,n as q,F as A,q as D,e as B,_ as P}from"./index.1660389766401.js";import{u as O,H as b,j as S,x as L,h as z,M as R,m as k}from"./index.16603897664014.js";const $=I({__name:"toolbar",setup(F){const x=E("viewer_context"),{showMiniMap:r,toggleMiniMap:p,scale:u,zoomOut:c,zoomIn:_,resetZoom:v,fitView:l,codeDrawerVisible:m}=x;return(w,t)=>{const n=i("SvgIcon"),a=i("el-button"),s=i("el-tooltip"),f=i("el-button-group");return N(),C("div",null,[e(f,{class:"ml-4"},{default:o(()=>[e(a,{onClick:d(c)},{default:o(()=>[e(n,{name:"elementZoomOut"})]),_:1},8,["onClick"]),e(s,{class:"box-item",effect:"dark",content:"\u70B9\u51FB\u6B64\u5904\uFF0C\u6062\u590D\u539F\u59CB\u5927\u5C0F\u548C\u4F4D\u7F6E",placement:"bottom-start"},{default:o(()=>[e(a,{style:{padding:"4px"},onClick:d(v)},{default:o(()=>[j(M(d(u).percentage),1)]),_:1},8,["onClick"])]),_:1}),e(a,{onClick:d(_)},{default:o(()=>[e(n,{name:"elementZoomIn"})]),_:1},8,["onClick"]),e(s,{class:"box-item",effect:"dark",content:"\u81EA\u9002\u5E94\u5927\u5C0F",placement:"bottom-start"},{default:o(()=>[e(a,{id:"fitView",onClick:t[0]||(t[0]=y=>d(l)(100))},{default:o(()=>[e(n,{name:"elementAim"})]),_:1})]),_:1})]),_:1}),e(f,{class:"ml-4"},{default:o(()=>[e(s,{class:"box-item",effect:"dark",content:"\u663E\u793A/\u9690\u85CF \u7F29\u7565\u56FE\u5BFC\u822A",placement:"bottom-start"},{default:o(()=>[e(a,{type:d(r)?"primary":"default",onClick:t[1]||(t[1]=y=>d(p)())},{default:o(()=>[e(n,{name:"elementCamera"})]),_:1},8,["type"])]),_:1}),e(s,{class:"box-item",effect:"dark",content:"\u67E5\u770B\u4EE3\u7801",placement:"bottom-start"},{default:o(()=>[e(a,{type:d(m)?"primary":"default",onClick:t[2]||(t[2]=y=>m.value=!0)},{default:o(()=>[e(n,{name:"elementMonitor"})]),_:1},8,["type"])]),_:1})]),_:1})])}}}),J=I({__name:"index",setup(F){const x=D(),r=()=>x.query;let p={bpmn:{nodes:[{id:"Event_3m8r8f6",type:"bpmn:startEvent",x:260,y:260,properties:{}},{id:"Activity_1ioo5if",type:"bpmn:userTask",x:420,y:260,properties:{}},{id:"Activity_1j9h95q",type:"bpmn:serviceTask",x:620,y:260,properties:{}},{id:"Event_340rvte",type:"bpmn:endEvent",x:780,y:260,properties:{}}],edges:[{id:"Flow_098qupl",type:"bpmn:sequenceFlow",sourceNodeId:"Event_3m8r8f6",targetNodeId:"Activity_1ioo5if",startPoint:{x:278,y:260},endPoint:{x:370,y:260},properties:{},pointsList:[{x:278,y:260},{x:370,y:260}]},{id:"Flow_0su6amd",type:"bpmn:sequenceFlow",sourceNodeId:"Activity_1ioo5if",targetNodeId:"Activity_1j9h95q",startPoint:{x:470,y:260},endPoint:{x:570,y:260},properties:{},pointsList:[{x:470,y:260},{x:570,y:260}]},{id:"Flow_2lkq3kj",type:"bpmn:sequenceFlow",sourceNodeId:"Activity_1j9h95q",targetNodeId:"Event_340rvte",startPoint:{x:670,y:260},endPoint:{x:763,y:260},properties:{},pointsList:[{x:670,y:260},{x:763,y:260}]}]},nodeRed:{nodes:[{id:"node_1",type:"start-node",x:220,y:200,text:"start"},{id:"node_2",type:"fetch-node",x:420,y:200,text:"fetch data"},{id:"node_3",type:"function-node",x:620,y:200,text:"function"},{id:"node_4",type:"delay-node",x:420,y:300,text:"delay"},{id:"node_5",type:"switch-node",x:820,y:200,text:"switch"},{id:"node_6",type:"function-node",x:1020,y:200,text:"function"},{id:"node_7",type:"function-node",x:1020,y:300,text:"function"}],edges:[{type:"flow-link",sourceNodeId:"node_1",targetNodeId:"node_2"},{type:"flow-link",sourceNodeId:"node_2",targetNodeId:"node_3"},{type:"flow-link",sourceNodeId:"node_3",startPoint:{x:680,y:200},targetNodeId:"node_4"},{type:"flow-link",sourceNodeId:"node_4",startPoint:{x:370,y:300},targetNodeId:"node_2"},{type:"flow-link",sourceNodeId:"node_3",targetNodeId:"node_5"},{type:"flow-link",sourceNodeId:"node_5",targetNodeId:"node_6"},{type:"flow-link",sourceNodeId:"node_5",targetNodeId:"node_7"}]}};const u=g(),c=g(!1),_=g(""),l=O((()=>{let t=k.find(n=>n.name===r().type)||k[0];return r().type=="bpmn"?t.newData=p.bpmn:t.newData=p.nodeRed,console.log("model",t),t})()),m=()=>{var n,a;let t;r().code?t=(n=l.lf)==null?void 0:n.getGraphRawData():t=(a=l.lf)==null?void 0:a.getGraphData(),typeof t=="object"&&(t=JSON.stringify(t,null,2)),_.value=t};b.registerLanguage("json",S),b.registerLanguage("xml",L);const w=z.component;return V("viewer_context",Object.assign(l,{codeDrawerVisible:c})),q(()=>{if(!u.value){console.log("error container is null");return}const t={container:u.value,grid:{visible:!0,type:"mesh",size:20,config:{color:"#eeeeee"}},isSilentMode:!0,adjustEdge:!1,hoverOutline:!1,edgeSelectedOutline:!1,plugins:[R]};l.initLogicFlow(t)}),(t,n)=>{const a=i("el-header"),s=i("el-main"),f=i("el-container"),y=i("el-drawer");return N(),C(A,null,[e(f,{class:"layout"},{default:o(()=>[e(a,{class:"layout-header"},{default:o(()=>[e($)]),_:1}),e(s,null,{default:o(()=>[B("div",{ref_key:"container",ref:u,class:"layout-container"},null,512)]),_:1})]),_:1}),e(y,{modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=h=>c.value=h),title:"Json\u4EE3\u7801!",size:"40%",onOpen:m},{default:o(()=>[e(d(w),{autodetect:"",code:_.value},null,8,["code"])]),_:1},8,["modelValue"])],64)}}});const G=P(J,[["__scopeId","data-v-e14af170"]]);export{G as default};
